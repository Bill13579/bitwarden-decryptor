var G=(m,u)=>()=>(u||m((u={exports:{}}).exports,u),u.exports);var Q=G((X,E)=>{(async()=>{(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(e){if(e.ep)return;e.ep=!0;const o=t(e);fetch(e.href,o)}})();const m="/assets/hello_wasm_bg-169ed282.wasm",u=async(n={},t)=>{let r;if(t.startsWith("data:")){const e=t.replace(/^data:.*?base64,/,"");let o;if(typeof Buffer=="function"&&typeof Buffer.from=="function")o=Buffer.from(e,"base64");else if(typeof atob=="function"){const a=atob(e);o=new Uint8Array(a.length);for(let s=0;s<a.length;s++)o[s]=a.charCodeAt(s)}else throw new Error("Cannot decode base64-encoded data URL");r=await WebAssembly.instantiate(o,n)}else{const e=await fetch(t),o=e.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&o.startsWith("application/wasm"))r=await WebAssembly.instantiateStreaming(e,n);else{const a=await e.arrayBuffer();r=await WebAssembly.instantiate(a,n)}}return r.instance.exports};let _;function I(n){_=n}const T=typeof TextDecoder>"u"?(0,E.require)("util").TextDecoder:TextDecoder;let k=new T("utf-8",{ignoreBOM:!0,fatal:!0});k.decode();let g=null;function w(){return(g===null||g.byteLength===0)&&(g=new Uint8Array(_.memory.buffer)),g}function h(n,t){return n=n>>>0,k.decode(w().subarray(n,n+t))}let b=null;function y(){return(b===null||b.byteLength===0)&&(b=new Int32Array(_.memory.buffer)),b}let l=0;const B=typeof TextEncoder>"u"?(0,E.require)("util").TextEncoder:TextEncoder;let p=new B("utf-8");const L=typeof p.encodeInto=="function"?function(n,t){return p.encodeInto(n,t)}:function(n,t){const r=p.encode(n);return t.set(r),{read:n.length,written:r.length}};function f(n,t,r){if(r===void 0){const i=p.encode(n),d=t(i.length,1)>>>0;return w().subarray(d,d+i.length).set(i),l=i.length,d}let e=n.length,o=t(e,1)>>>0;const a=w();let s=0;for(;s<e;s++){const i=n.charCodeAt(s);if(i>127)break;a[o+s]=i}if(s!==e){s!==0&&(n=n.slice(s)),o=r(o,e,e=s+n.length*3,1)>>>0;const i=w().subarray(o+s,o+e),d=L(n,i);s+=d.written}return l=s,o}function S(n,t,r,e){const o=f(n,_.__wbindgen_malloc,_.__wbindgen_realloc),a=l,s=f(t,_.__wbindgen_malloc,_.__wbindgen_realloc),i=l,d=f(e,_.__wbindgen_malloc,_.__wbindgen_realloc),K=l,$=_.decrypt_js(o,a,s,i,r,d,K);return j.__wrap($)}class j{static __wrap(t){t=t>>>0;const r=Object.create(j.prototype);return r.__wbg_ptr=t,r}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();_.__wbg_decryptresultjs_free(t)}get error(){let t,r;try{const a=_.__wbindgen_add_to_stack_pointer(-16);_.__wbg_get_decryptresultjs_error(a,this.__wbg_ptr);var e=y()[a/4+0],o=y()[a/4+1];return t=e,r=o,h(e,o)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(t,r,1)}}set error(t){const r=f(t,_.__wbindgen_malloc,_.__wbindgen_realloc),e=l;_.__wbg_set_decryptresultjs_error(this.__wbg_ptr,r,e)}get data(){let t,r;try{const a=_.__wbindgen_add_to_stack_pointer(-16);_.__wbg_get_decryptresultjs_data(a,this.__wbg_ptr);var e=y()[a/4+0],o=y()[a/4+1];return t=e,r=o,h(e,o)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(t,r,1)}}set data(t){const r=f(t,_.__wbindgen_malloc,_.__wbindgen_realloc),e=l;_.__wbg_set_decryptresultjs_data(this.__wbg_ptr,r,e)}}function v(n,t){throw new Error(h(n,t))}URL=globalThis.URL;const c=await u({"./hello_wasm_bg.js":{__wbindgen_throw:v}},m),x=c.memory,O=c.__wbg_decryptresultjs_free,A=c.__wbg_get_decryptresultjs_error,N=c.__wbg_set_decryptresultjs_error,C=c.__wbg_get_decryptresultjs_data,D=c.__wbg_set_decryptresultjs_data,W=c.decrypt_js,U=c.__wbindgen_add_to_stack_pointer,J=c.__wbindgen_free,M=c.__wbindgen_malloc,P=c.__wbindgen_realloc,q=Object.freeze(Object.defineProperty({__proto__:null,__wbg_decryptresultjs_free:O,__wbg_get_decryptresultjs_data:C,__wbg_get_decryptresultjs_error:A,__wbg_set_decryptresultjs_data:D,__wbg_set_decryptresultjs_error:N,__wbindgen_add_to_stack_pointer:U,__wbindgen_free:J,__wbindgen_malloc:M,__wbindgen_realloc:P,decrypt_js:W,memory:x},Symbol.toStringTag,{value:"Module"}));I(q);async function R(){const n=document.createElement("input");n.type="file",n.accept=".json",n.onchange=async t=>{const r=t.target.files[0];if(document.getElementById("open-file-name").innerText=r.name,r){const e=await r.text();window.bitwardenData=JSON.parse(e)}},n.click()}async function z(n){let t={};for(let e of n.folders)t[e.id]=e.name;t[null]="no folder";let r=document.getElementById("tbody");r.innerHTML="";for(let e of n.items){let o=document.createElement("tr"),a=s=>{let i=document.createElement("td");return i.innerText=s,i};for(let s of[e.id.toString().substring(0,8),t[e.folderId],e.name,e.notes,e.favorite?"\u2B50":"  ",e.login]){let i;typeof s=="string"||s instanceof String?i=s.toString():i=JSON.stringify(s,null,2),o.appendChild(a(i))}r.appendChild(o)}}async function H(){const n=document.getElementById("password").value;if(window.bitwardenData)try{const t=await F(n,window.bitwardenData);let r=JSON.parse(t);z(r),document.getElementById("data").value=JSON.stringify(r,null,4)}catch(t){console.error(t)}}async function F(n,t){let r=S(n,t.salt,t.kdfIterations,t.data);return document.getElementById("decrypt-data-error").innerText=r.error,r.data}document.getElementById("open-file-btn").addEventListener("click",R),document.getElementById("decrypt-data-btn").addEventListener("click",H)})()});export default Q();
